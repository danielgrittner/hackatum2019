{"ast":null,"code":"import _slicedToArray from \"/Users/danielgrittner/development/hackatum2019/frontend-pos/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/danielgrittner/development/hackatum2019/frontend-pos/src/components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Typography, Container, Grid } from \"@material-ui/core\";\nimport AttentionCard from \"./AttentionCard\";\nconst BEACON_ID = \"E2C56DB5-DFFB-48D2-B060-D0F5A71096E0\";\n/*\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(12, 1fr)',\n    gridGap: theme.spacing(3),\n    //maxWidth: 50%,\n    backgroundColor: '#F8F8F8',\n  },\n*/\n//(AttentionCard) &&\n\nconst Home = () => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        websocket = _useState2[0],\n        setWebsocket = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userData = _useState4[0],\n        setUserData = _useState4[1];\n\n  const connect = () => {\n    const ws = new WebSocket(\"ws://192.168.8.113:8000/beacon-queue/\".concat(BEACON_ID));\n\n    ws.onopen = () => {\n      setWebsocket(ws);\n    };\n\n    ws.onmessage = e => {\n      const beaconUserData = JSON.parse(e.data);\n      const realData = beaconUserData.data;\n      setUserData(realData);\n      console.log(\"USER_DATA: \".concat(JSON.stringify(realData))); // FIXME\n    };\n\n    ws.onclose = () => {\n      setWebsocket(null);\n      setUserData(null);\n    };\n  };\n\n  useEffect(() => {\n    if (!websocket) {\n      connect();\n    }\n  }); // console.log(`USER_DATA: ${JSON.stringify(userData)}`);\n\n  return React.createElement(Grid, {\n    container: true,\n    style: {\n      width: \"100%\",\n      minHeight: 620,\n      backgroundColor: \"blue\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, userData && userData !== {} && React.createElement(Grid, {\n    item: true,\n    alignItems: \"flex-start\",\n    style: {\n      marginTop: \"auto\",\n      marginLeft: \"1%\",\n      marginBottom: \"1%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(AttentionCard, {\n    beaconUserData: userData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    alignItems: \"flex-end\",\n    style: {\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://ak0.picdn.net/shutterstock/videos/1031472830/thumb/1.jpg?ip=x480\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/danielgrittner/development/hackatum2019/frontend-pos/src/components/Home.js"],"names":["React","useState","useEffect","Typography","Container","Grid","AttentionCard","BEACON_ID","Home","websocket","setWebsocket","userData","setUserData","connect","ws","WebSocket","onopen","onmessage","e","beaconUserData","JSON","parse","data","realData","console","log","stringify","onclose","width","minHeight","backgroundColor","marginTop","marginLeft","marginBottom","backgroundPosition","backgroundSize"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,IAAhC,QAA4C,mBAA5C;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,MAAMC,SAAS,GAAG,sCAAlB;AAEA;;;;;;;;;;AAWA;;AACA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBACiBP,QAAQ,CAAC,IAAD,CADzB;AAAA;AAAA,QACVQ,SADU;AAAA,QACCC,YADD;;AAAA,qBAEeT,QAAQ,CAAC,IAAD,CAFvB;AAAA;AAAA,QAEVU,QAFU;AAAA,QAEAC,WAFA;;AAIjB,QAAMC,OAAO,GAAG,MAAM;AACpB,UAAMC,EAAE,GAAG,IAAIC,SAAJ,gDAC+BR,SAD/B,EAAX;;AAIAO,IAAAA,EAAE,CAACE,MAAH,GAAY,MAAM;AAChBN,MAAAA,YAAY,CAACI,EAAD,CAAZ;AACD,KAFD;;AAIAA,IAAAA,EAAE,CAACG,SAAH,GAAeC,CAAC,IAAI;AAClB,YAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACI,IAAb,CAAvB;AACA,YAAMC,QAAQ,GAAGJ,cAAc,CAACG,IAAhC;AACAV,MAAAA,WAAW,CAACW,QAAD,CAAX;AACAC,MAAAA,OAAO,CAACC,GAAR,sBAA0BL,IAAI,CAACM,SAAL,CAAeH,QAAf,CAA1B,GAJkB,CAIqC;AACxD,KALD;;AAOAT,IAAAA,EAAE,CAACa,OAAH,GAAa,MAAM;AACjBjB,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KAHD;AAID,GApBD;;AAsBAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACO,SAAL,EAAgB;AACdI,MAAAA,OAAO;AACR;AACF,GAJQ,CAAT,CA1BiB,CAgCjB;;AAEA,SACE,oBAAC,IAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,KAAK,EAAE;AAAEe,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,SAAS,EAAE,GAA5B;AAAiCC,MAAAA,eAAe,EAAE;AAAlD,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGnB,QAAQ,IAAIA,QAAQ,KAAK,EAAzB,IACC,oBAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,UAAU,EAAE,YAFd;AAGE,IAAA,KAAK,EAAE;AAAEoB,MAAAA,SAAS,EAAE,MAAb;AAAqBC,MAAAA,UAAU,EAAE,IAAjC;AAAuCC,MAAAA,YAAY,EAAE;AAArD,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,aAAD;AAAe,IAAA,cAAc,EAAEtB,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CALJ,EAaE,oBAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,UAAU,EAAE,UAFd;AAGE,IAAA,KAAK,EAAE;AAAEuB,MAAAA,kBAAkB,EAAE,QAAtB;AAAgCC,MAAAA,cAAc,EAAE;AAAhD,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAK,IAAA,GAAG,EAAC,0EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAbF,CADF;AAuBD,CAzDD;;AA2DA,eAAe3B,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Typography, Container, Grid } from \"@material-ui/core\";\nimport AttentionCard from \"./AttentionCard\";\n\nconst BEACON_ID = \"E2C56DB5-DFFB-48D2-B060-D0F5A71096E0\";\n\n/*\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(12, 1fr)',\n    gridGap: theme.spacing(3),\n    //maxWidth: 50%,\n    backgroundColor: '#F8F8F8',\n  },\n*/\n\n//(AttentionCard) &&\nconst Home = () => {\n  const [websocket, setWebsocket] = useState(null);\n  const [userData, setUserData] = useState(null);\n\n  const connect = () => {\n    const ws = new WebSocket(\n      `ws://192.168.8.113:8000/beacon-queue/${BEACON_ID}`\n    );\n\n    ws.onopen = () => {\n      setWebsocket(ws);\n    };\n\n    ws.onmessage = e => {\n      const beaconUserData = JSON.parse(e.data);\n      const realData = beaconUserData.data;\n      setUserData(realData);\n      console.log(`USER_DATA: ${JSON.stringify(realData)}`); // FIXME\n    };\n\n    ws.onclose = () => {\n      setWebsocket(null);\n      setUserData(null);\n    };\n  };\n\n  useEffect(() => {\n    if (!websocket) {\n      connect();\n    }\n  });\n\n  // console.log(`USER_DATA: ${JSON.stringify(userData)}`);\n\n  return (\n    <Grid\n      container\n      style={{ width: \"100%\", minHeight: 620, backgroundColor: \"blue\" }}\n    >\n      {userData && userData !== {} && (\n        <Grid\n          item\n          alignItems={\"flex-start\"}\n          style={{ marginTop: \"auto\", marginLeft: \"1%\", marginBottom: \"1%\" }}\n        >\n          <AttentionCard beaconUserData={userData} />\n        </Grid>\n      )}\n      <Grid\n        item\n        alignItems={\"flex-end\"}\n        style={{ backgroundPosition: \"center\", backgroundSize: \"cover\" }}\n      >\n        <img src=\"https://ak0.picdn.net/shutterstock/videos/1031472830/thumb/1.jpg?ip=x480\" />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}